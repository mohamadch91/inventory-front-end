"use strict";(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[8122],{48122:function(e,s,n){n.r(s);var c=n(4942),a=n(1413),l=n(29439),t=n(72791),i=n(57641),r=n(65218),u=n(59909),d=n(36167),o=(n(2423),n(98163),n(5227),n(30606)),h=n(80184);s.default=function(){var e=(0,t.useState)(!0),s=(0,l.Z)(e,2),n=s[0],x=s[1],f=(0,t.useState)([]),j=(0,l.Z)(f,2),m=j[0],b=j[1],v=(0,t.useState)(),g=(0,l.Z)(v,2),p=g[0],Z=g[1],y=(0,t.useState)([]),N=(0,l.Z)(y,2),S=N[0],C=N[1];function P(e){var s=e.target,n=s.name,l=s.value;Z((0,a.Z)((0,a.Z)({},p),{},(0,c.Z)({},n,l)))}return(0,t.useEffect)((function(){i.Z.getfacilities().then((function(e){var s=e.data;b(s),x(!1)})).catch((function(e){r.ZP.error((0,h.jsx)(o.c,{children:"There is a problem loading data"})),x(!1)}))}),[]),(0,h.jsx)("div",{className:"new-message-page",children:n?(0,h.jsx)(u.Z,{}):(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===S.length)r.ZP.error((0,h.jsx)(o.c,{children:"Please select at least one facility"}));else{var s={subject:p.subject,body:p.body,reciever:S.map((function(e){return e.value}))};i.Z.sendMessage(s).then((function(e){r.ZP.success((0,h.jsx)(o.c,{children:"Message sent successfully"})),Z({}),C([])})).catch((function(e){r.ZP.error((0,h.jsx)(o.c,{children:"There is a problem sending message"}))}))}},children:[(0,h.jsx)("h3",{className:"mb-1 page-title",children:(0,h.jsx)(o.c,{children:"Send message"})}),(0,h.jsxs)("div",{className:"d-flex flex-column",children:[(0,h.jsx)("label",{children:(0,h.jsx)(o.c,{children:"Receivers"})}),(0,h.jsx)(d.NU,{options:m.map((function(e){return{label:e.name,value:e.id}})),value:S,onChange:C,labelledBy:"Select",className:"multi-select"})]}),(0,h.jsxs)("div",{className:"d-flex flex-column",children:[(0,h.jsx)("label",{children:(0,h.jsx)(o.c,{children:"Subject"})}),(0,h.jsx)("input",{onChange:P,type:"text",name:"subject",required:!0})]}),(0,h.jsxs)("div",{className:"d-flex flex-column",children:[(0,h.jsx)("label",{children:(0,h.jsx)(o.c,{children:"Message body"})}),(0,h.jsx)("textarea",{onChange:P,name:"body",required:!0})]}),(0,h.jsx)("button",{type:"submit",className:"w-100 save-btn mt-4",children:(0,h.jsx)(o.c,{children:"Send"})})]})})})}},98163:function(){}}]);
//# sourceMappingURL=8122.f33f11b3.chunk.js.map