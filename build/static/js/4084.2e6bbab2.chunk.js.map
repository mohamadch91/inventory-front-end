{"version":3,"file":"static/js/4084.2e6bbab2.chunk.js","mappings":"uRA8DA,EAvDoB,SAACA,GAAW,IAAD,QAC7B,GAA+CC,EAAAA,EAAAA,UAC7C,CAAC,iBADoD,uBAErD,yGACoBC,EAAAA,EAAAA,UAAsB,QAAUF,EAAMG,UAD1D,cACQC,EADR,yBAESA,EAAIC,MAFb,2CAIA,CACEC,gBAAgB,IAPZD,EAAR,EAAQA,KAAiBE,EAAzB,EAAcC,UAWd,OAAID,GACK,SAACE,EAAA,EAAD,IAEJF,GAAqC,IAAhBF,EAAKK,QAS7B,gBAAKC,UAAU,wBAAf,UACE,mBAAOA,UAAU,QAAjB,WACE,4BACE,2BACE,yBACE,SAACC,EAAA,EAAD,4BAEF,yBACE,SAACA,EAAA,EAAD,2BAEF,yBACE,SAACA,EAAA,EAAD,0BAEF,yBACE,SAACA,EAAA,EAAD,2BAIN,4BACE,2BACE,kCAAKP,EAAK,UAAV,aAAK,EAASQ,cACd,kCAAKR,EAAK,UAAV,aAAK,EAASS,aACd,kCAAKT,EAAK,UAAV,aAAK,EAASU,YACd,kCAAKV,EAAK,UAAV,aAAK,EAASW,kBA9BpB,SAACC,EAAA,EAAD,CACEC,QAAS,8CAmChB,E,sBCSD,EA/De,WACb,OAAgCC,EAAAA,EAAAA,YAAhC,eAAOhB,EAAP,KAAiBiB,EAAjB,KACA,GAA8CD,EAAAA,EAAAA,WAAS,GAAvD,eAAOE,EAAP,KAAwBC,EAAxB,KACA,GAAoCH,EAAAA,EAAAA,WAAS,GAA7C,eAAOI,EAAP,KAAmBC,EAAnB,KAqBA,OACE,iBAAKb,UAAS,2BAAsBc,EAAAA,EAAAA,UAApC,WACE,mBACEC,QAZgB,WACpBF,GAAc,EACf,EAWKG,KAAK,SACLhB,UAAU,0CAHZ,4BAQCU,IACC,SAAC,IAAD,CACEV,UAAW,eACXiB,SAhCY,SAACC,EAAQC,GACrBD,IACJT,EAAW,OAACS,QAAD,IAACA,OAAD,EAACA,EAAQE,MACpBT,GAAmB,IAGfQ,GACJE,QAAQC,IAAIH,EAEf,EAwBOI,UAAW,MAGd/B,IAAakB,IACZ,gBAAKV,UAAU,+BAAf,UACE,eAAIA,UAAU,YAAd,yCAIHY,IACC,4BACE,SAAC,EAAD,CAAapB,SAAUA,KACvB,mBACEuB,QAjCa,WACrBN,EAAY,MACZE,GAAmB,GACnBE,GAAc,EACf,EA8BSG,KAAK,SACLhB,UAAU,mCAHZ,iCAWT,C,2DCrDD,IAX6B,SAACX,GAC5B,OACE,iBAAKW,UAAU,6CAA6CwB,KAAK,QAAjE,WACE,cAAGxB,UAAU,YAAb,UACE,SAAC,IAAD,kFAEDX,EAAMkB,UAAW,uBAAIlB,EAAMkB,YAGjC,C,sBCXD,KAAgB,gBAAkB,iCAAiC,oBAAsB,qCAAqC,iBAAmB,kCAAkC,SAAW,0B","sources":["app/items/scan-qr/ResultTable.js","app/items/scan-qr/ScanQR.js","app/shared/UI/EmptyDataBaseMessage.js","webpack://inventory/./src/app/items/items-qr/ItemsQR.module.css?d7e8"],"sourcesContent":["import React from \"react\";\nimport { useQuery } from \"react-query\";\nimport ItemService from \"../../services/item.service\";\nimport { Spinner } from \"react-bootstrap\";\nimport { Trans } from \"react-i18next\";\nimport EmptyDataBaseMessage from \"../../shared/UI/EmptyDataBaseMessage\";\n\nconst ResultTable = (props) => {\n  const { data, isLoading: formDataIsLoading } = useQuery(\n    [\"result-table\"],\n    async () => {\n      const res = await ItemService.getQrData(\"code=\" + props.QRString);\n      return res.data;\n    },\n    {\n      refetchOnMount: true,\n    }\n  );\n\n  if (formDataIsLoading) {\n    return <Spinner />;\n  }\n  if (!formDataIsLoading && data.length === 0) {\n    return (\n      <EmptyDataBaseMessage\n        message={\"No data was found with the desired QR code\"}\n      />\n    );\n  }\n\n  return (\n    <div className=\"table-responsive mt-3\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>\n              <Trans>Item Class</Trans>\n            </th>\n            <th>\n              <Trans>Item Type</Trans>\n            </th>\n            <th>\n              <Trans>PQS code</Trans>\n            </th>\n            <th>\n              <Trans>Code</Trans>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{data[0]?.item_class}</td>\n            <td>{data[0]?.item_type}</td>\n            <td>{data[0]?.pqs_code}</td>\n            <td>{data[0]?.code}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ResultTable;\n","import React, { useState } from \"react\";\nimport { QrReader } from \"react-qr-reader\";\nimport ResultTable from \"./ResultTable\";\nimport adapter from \"webrtc-adapter\";\nimport classes from \"../items-qr/ItemsQR.module.css\";\n\nconst ScanQR = () => {\n  const [QRString, setQRString] = useState();\n  const [cameraAvailable, setCameraAvailable] = useState(true);\n  const [showResult, setShowResult] = useState(false);\n\n  const scanHandler = (result, error) => {\n    if (!!result) {\n      setQRString(result?.text);\n      setCameraAvailable(false);\n    }\n\n    if (!!error) {\n      console.log(error);\n    }\n  };\n  const submitHandler = () => {\n    setShowResult(true);\n  };\n  const refreshHandler = () => {\n    setQRString(null);\n    setCameraAvailable(true);\n    setShowResult(false);\n  };\n\n  return (\n    <div className={`card w-75 m-auto ${classes.scanPage}`}>\n      <button\n        onClick={submitHandler}\n        type=\"button\"\n        className=\"btn btn-primary btn-fw mt-3 w-75 m-auto\"\n      >\n        Search QR code\n      </button>\n\n      {cameraAvailable && (\n        <QrReader\n          className={\"w-75 m-auto \"}\n          onResult={scanHandler}\n          scanDelay={100}\n        />\n      )}\n      {QRString && !cameraAvailable && (\n        <div className=\"w-75 m-auto pt-3 text-center\">\n          <h3 className=\"display-4\">Code Scanned Successfully</h3>\n        </div>\n      )}\n\n      {showResult && (\n        <div>\n          <ResultTable QRString={QRString} />\n          <button\n            onClick={refreshHandler}\n            type=\"button\"\n            className=\"btn btn-light btn-fw mt-3 w-25  \"\n          >\n            Search QR code\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ScanQR;\n","import React from \"react\";\nimport { Trans } from \"react-i18next\";\n\nconst EmptyDataBaseMessage = (props) => {\n  return (\n    <div className=\"alert alert-danger w-50 text-center m-auto\" role=\"alert\">\n      <p className=\"display-4\">\n        <Trans>We've been looking everywhere, nothing was found ... ðŸ˜Ÿ</Trans>\n      </p>\n      {props.message && <p>{props.message}</p>}\n    </div>\n  );\n};\n\nexport default EmptyDataBaseMessage;\n","// extracted by mini-css-extract-plugin\nexport default {\"inputResponsive\":\"ItemsQR_inputResponsive__ShY-3\",\"codeInputResponsive\":\"ItemsQR_codeInputResponsive__iEFAF\",\"buttonResponsive\":\"ItemsQR_buttonResponsive__OgujR\",\"scanPage\":\"ItemsQR_scanPage__1C9Ao\"};"],"names":["props","useQuery","ItemService","QRString","res","data","refetchOnMount","formDataIsLoading","isLoading","Spinner","length","className","Trans","item_class","item_type","pqs_code","code","EmptyDataBaseMessage","message","useState","setQRString","cameraAvailable","setCameraAvailable","showResult","setShowResult","classes","onClick","type","onResult","result","error","text","console","log","scanDelay","role"],"sourceRoot":""}