"use strict";(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[4120,1028],{28096:function(e,n,a){a.r(n),a.d(n,{default:function(){return k}});var l=a(42982),i=a(70885),r=a(1413),d=a(72791),t=a(17994),o=a(64554),s=a(36151),c=a(20890),p=(a(8950),a(12065)),u=a(56890),m=a(35855),v=a(53994),x=a(53382),h=a(34663),g=a(10703),j=a(47630),b=a(41286),f=a(65218),Z=(a(93650),a(34045)),w=a(23821),y=a(40277),_=a(80184);function S(e,n,a,l,i,r,d,t,o,s,c,p,u,m,v,x){return{id:e,name:n,maxpop:a,minpop:l,uppervol:i,undervol:r,m25vol:d,m70vol:t,dryvol:o,m25volnew:s,m70volnew:c,uppervolnew:p,undervolnew:u,dryvolnew:m,country:v,parent:x}}(0,j.ZP)(o.Z)((function(e){var n=e.theme;return{height:300,width:"100%","& .MuiDataGrid-cell--editing":{backgroundColor:"rgb(255,215,115, 0.19)",color:"#1a3e72","& .MuiInputBase-root":{height:"100%"}},"& .Mui-error":{backgroundColor:"rgb(126,10,15, ".concat("dark"===n.palette.mode?0:.1,")"),color:n.palette.error.main}}}));var P=[{id:"number",numeric:!1,disablePadding:!1,label:"Levels"},{id:"name",numeric:!1,disablePadding:!0,label:"name"},{id:"m25vol",numeric:!1,disablePadding:!0,label:"+25 C(cm3)"},{id:"uppervol",numeric:!1,disablePadding:!0,label:"+2 - +8 C(cm3)"},{id:"undervol",numeric:!1,disablePadding:!0,label:"-20 C(cm3)"},{id:"m70vol",numeric:!1,disablePadding:!0,label:"-70 C(cm3)"},{id:"dryvol",numeric:!1,disablePadding:!0,label:"Dry store(cm3)"},{id:"m25volnew",numeric:!1,disablePadding:!0,label:"+25 C(cm3)"},{id:"uppervolnew",numeric:!1,disablePadding:!0,label:"+2 - +8 C(cm3)"},{id:"undervolnew",numeric:!1,disablePadding:!0,label:"-20 C(cm3)"},{id:"m70volnew",numeric:!1,disablePadding:!0,label:"-70 C(cm3)"},{id:"dryvolnew",numeric:!1,disablePadding:!0,label:"Dry store(cm3)"},{id:"minpop",numeric:!1,disablePadding:!0,label:"Min pop(cm3)"},{id:"maxpop",numeric:!1,disablePadding:!0,label:"Max pop(cm3)"}],C=function(e){var n=e.numSelected;return(0,_.jsx)(h.Z,{sx:(0,r.Z)({pl:{sm:2},pr:{xs:1,sm:1}},n>0&&{bgcolor:function(e){return(0,p.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:n>0?(0,_.jsxs)(c.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):(0,_.jsx)(c.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Level list"})})};function k(){var e=d.useState(!1),n=(0,i.Z)(e,2),a=(n[0],n[1]),r=d.useState([]),p=(0,i.Z)(r,2),h=p[0],j=p[1],k=d.useState("asc"),L=(0,i.Z)(k,2),M=(L[0],L[1],d.useState("calories")),N=(0,i.Z)(M,2),T=(N[0],N[1],d.useState([])),E=(0,i.Z)(T,2),Y=E[0],F=(E[1],d.useState(!1)),q=(0,i.Z)(F,2),V=(q[0],q[1],d.useState(!1)),I=(0,i.Z)(V,2),R=I[0],B=I[1],O=d.useState(!0),J=(0,i.Z)(O,2),z=(J[0],J[1]),A=d.useState(!1),D=(0,i.Z)(A,2),G=(D[0],D[1],d.useState(!0)),X=(0,i.Z)(G,2),H=X[0],K=X[1],Q=function(){B(!R),j(h),z(!0),H?(t.Z.putLevels(h).then((function(e){for(var n=JSON.parse(localStorage.getItem("country")),a=[],l=0;l<n.levels;l++)a.push(S(e.data[l].id,e.data[l].name,parseInt(e.data[l].maxpop),parseInt(e.data[l].minpop),e.data[l].uppervol,e.data[l].undervol,e.data[l].m25vol,e.data[l].m70vol,e.data[l].dryvol,e.data[l].m25volnew,e.data[l].m70volnew,e.data[l].uppervolnew,e.data[l].undervolnew,e.data[l].dryvolnew,e.data[l].country,e.data[l].parent));j(a)})).catch((function(e){})),a(!0)):f.ZP.error("Please fill the fields with right format"),me(null),se({})},U=function(e,n){"name"!==e.target.name&&isNaN(e.target.value)&&K(!1);var a=e.target.value;if(z(!1),a.split(".").length>1){var i=a.split(".")[0],r=a.split(".")[1].slice(0,2);a=i+"."+r}var d=e.target,t=d.name,o=(d.value,(0,l.Z)(h));o[n][t]=a,j(o)},W=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},$=function(e){if(e.length>0)return!0},ee=function(e){if(e.toString().length>0)return!0},ne=function(e){if(e.toString().length>0)return!0},ae=function(e){var n=parseFloat(e);return!(n<0)&&(n.toString().length,!0)},le=d.useState(null),ie=(0,i.Z)(le,2),re=ie[0],de=ie[1],te=d.useState({}),oe=(0,i.Z)(te,2),se=(oe[0],oe[1]),ce=d.useState(null),pe=(0,i.Z)(ce,2),ue=pe[0],me=pe[1];return d.useEffect((function(){t.Z.getLevels().then((function(e){for(var n=JSON.parse(localStorage.getItem("country")),a=[],l=0;l<n.levels;l++)a.push(S(e.data[l].id,e.data[l].name,parseInt(e.data[l].maxpop),parseInt(e.data[l].minpop),e.data[l].uppervol,e.data[l].undervol,e.data[l].m25vol,e.data[l].m70vol,e.data[l].dryvol,e.data[l].m25volnew,e.data[l].m70volnew,e.data[l].uppervolnew,e.data[l].undervolnew,e.data[l].dryvolnew,e.data[l].country,e.data[l].parent));j(a)})).catch((function(e){console.log(e)}))}),[]),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"page-header",children:(0,_.jsx)("h1",{className:"page-title",children:" Level Configurations "})}),(0,_.jsx)(o.Z,{sx:{width:"100%"},children:(0,_.jsx)(g.Z,{sx:{width:"100%",mb:2},children:(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:"row mr-5 mt-2 mb-3 ml-5",children:[(0,_.jsx)(c.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",className:" mt-3",children:"import level"}),(0,_.jsxs)("div",{className:"col-md-12",children:[(0,_.jsx)("label",{children:"upload excel to change levels data"}),(0,_.jsxs)("div",{className:"row d-flex mb-2 ",children:[(0,_.jsx)("div",{className:"col-md-3",children:(0,_.jsx)("input",{type:"file",className:"form-control",onChange:function(e){var n=(0,i.Z)(e.target.files,1)[0],a=new FileReader;a.onload=function(e){var n=e.target.result,a=Z.ij(n,{type:"binary"}),l=a.SheetNames[3],i=a.Sheets[l];console.log(i);var r=Z.P6.sheet_to_json(i);console.log(r),de(r)},a.readAsBinaryString(n)}})}),(0,_.jsx)("div",{className:"col-md-3 ml-2 mt-1",children:(0,_.jsx)(s.Z,{variant:"contained",color:"primary",onClick:function(){!function(){for(var e=[],n=JSON.parse(localStorage.getItem("country")),a=0;a<n.levels;a++){var l=re[a+5],i={id:l.__EMPTY,uppervol:""===l[5]?0:l[5].toFixed(2),m25vol:""===l.__EMPTY_1?0:l.__EMPTY_1.toFixed(2),undervol:""===l.__EMPTY_2?0:l.__EMPTY_2.toFixed(2),dryvol:""===l.__EMPTY_3?0:l.__EMPTY_3.toFixed(2),m25volnew:""===l.__EMPTY_4?0:l.__EMPTY_4.toFixed(2),uppervolnew:""===l.__EMPTY_5?0:l.__EMPTY_5.toFixed(2),undervolnew:""===l.__EMPTY_6?0:l.__EMPTY_6.toFixed(2),m70volnew:""===l.__EMPTY_7?0:l.__EMPTY_7.toFixed(2),dryvolnew:""===l.__EMPTY_8?0:l.__EMPTY_8.toFixed(2),m70vol:""===l["Timor-Leste_1"]?0:l["Timor-Leste_1"].toFixed(2)};e.push(i)}t.Z.putLevels(e).then((function(e){f.ZP.success("Levels imported successfully");for(var a=[],l=0;l<n.levels;l++)a.push(S(e.data[l].id,e.data[l].name,parseInt(e.data[l].maxpop),parseInt(e.data[l].minpop),e.data[l].uppervol,e.data[l].undervol,e.data[l].m25vol,e.data[l].m70vol,e.data[l].dryvol,e.data[l].m25volnew,e.data[l].m70volnew,e.data[l].uppervolnew,e.data[l].undervolnew,e.data[l].dryvolnew,e.data[l].country,e.data[l].parent));j(a)})).catch((function(e){f.ZP.error("Levels import failed")})).finally((function(){de(null)})),console.log(e)}()},children:"sumbit"})})]})]})]})})})}),(0,_.jsx)(o.Z,{sx:{width:"100%"},children:(0,_.jsxs)(g.Z,{sx:{width:"100%",mb:2},children:[(0,_.jsx)(C,{numSelected:Y.length}),(0,_.jsxs)(w.Z,{children:[(0,_.jsxs)(u.Z,{children:[(0,_.jsxs)(m.Z,{children:[(0,_.jsx)(v.Z,{colSpan:6}),(0,_.jsxs)(v.Z,{colSpan:4,children:["Target Population :",JSON.parse(localStorage.getItem("country")).poptarget]}),(0,_.jsx)(v.Z,{colSpan:6})]}),(0,_.jsxs)(m.Z,{children:[(0,_.jsx)(v.Z,{colSpan:3}),(0,_.jsx)(v.Z,{sx:{backgroundColor:"#82c4ed",textAlign:"center",borderLeft:"1px solid black"},colSpan:5,children:"Current values"}),(0,_.jsx)(v.Z,{sx:{backgroundColor:"#2f7ebf",textAlign:"center",borderLeft:"1px solid black",borderRight:"1px solid black"},colSpan:5,children:"Planned values"})]}),(0,_.jsxs)(m.Z,{className:"item-class-page",children:[(0,_.jsx)(v.Z,{colSpan:2}),P.map((function(e){return(0,_.jsx)(v.Z,{sx:"m25vol"===e.id||"m25volnew"===e.id?{borderLeft:"1px solid black"}:"dryvolnew"===e.id?{borderRight:"1px solid black"}:"",children:e.label},e.id)}))]})]}),(0,_.jsx)(x.Z,{className:"item-class-page",children:h.map((function(e,n){return(0,_.jsx)(_.Fragment,{children:ue!==e.id?(0,_.jsxs)(m.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,_.jsx)(v.Z,{colSpan:2,children:(0,_.jsx)("button",{className:"edit-btn",onClick:function(n){return function(e){var n=h.find((function(n){return n.id===e.id}));se(n),me(e.id)}(e)},children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)(v.Z,{className:"text-center",scope:"row",padding:"none",children:e.id}),(0,_.jsx)(v.Z,{scope:"row",className:"text-center",padding:"none",children:e.name}),(0,_.jsx)(v.Z,{sx:{borderLeft:"1px solid black",paddongLeft:"2px"},padding:"none",align:"center",children:e.m25vol}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.uppervol}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.undervol}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.m70vol}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.dryvol}),(0,_.jsx)(v.Z,{sx:{borderLeft:"1px solid black"},padding:"none",align:"center",children:e.m25volnew}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.uppervolnew}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.undervolnew}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:e.m70volnew}),(0,_.jsx)(v.Z,{padding:"none",sx:{borderRight:"1px solid black"},align:"center",children:e.dryvolnew}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:W(e.minpop)}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:W(e.maxpop)})]},e.id):(0,_.jsxs)(m.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,_.jsxs)(v.Z,{colSpan:2,children:[(0,_.jsx)("button",{className:"save-btn",onClick:Q,children:"Save"}),(0,_.jsx)("button",{className:"close-btn",onClick:function(){return me(null)},children:(0,_.jsx)(y.Z,{})})]}),(0,_.jsx)(v.Z,{className:"text-center",scope:"row",padding:"none",children:(0,_.jsx)("input",{required:!0,disabled:!0,value:e.id,name:"name",isValid:$(h[n].name),type:"text"})}),(0,_.jsxs)(v.Z,{scope:"row",padding:"none",className:"text-center",children:[(0,_.jsx)("input",{required:!0,isValid:$(h[n].name),value:h[n].name,name:"name",onChange:function(e){U(e,n)},type:"text"}),(0,_.jsx)("span",{})]}),(0,_.jsxs)(v.Z,{sx:{borderLeft:"1px solid black"},padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].m25vol),isInvalid:!ae(h[n].m25vol),value:h[n].m25vol,onChange:function(e){U(e,n)},name:"m25vol",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsxs)(v.Z,{padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].uppervol),value:h[n].uppervol,onChange:function(e){U(e,n)},name:"uppervol",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsxs)(v.Z,{padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].undervol),value:h[n].undervol,onChange:function(e){U(e,n)},name:"undervol",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsxs)(v.Z,{padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].m70vol),value:h[n].m70vol,onChange:function(e){U(e,n)},name:"m70vol",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:(0,_.jsx)("input",{required:!0,isValid:ae(h[n].dryvol),value:h[n].dryvol,onChange:function(e){U(e,n)},name:"dryvol",type:"number",placeholder:"0",min:"0"})}),(0,_.jsxs)(v.Z,{sx:{borderLeft:"1px solid black"},padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].m25volnew),value:h[n].m25volnew,onChange:function(e){U(e,n)},name:"m25volnew",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:(0,_.jsx)("input",{required:!0,isValid:ae(h[n].uppervolnew),value:h[n].uppervolnew,onChange:function(e){U(e,n)},name:"uppervolnew",type:"number",placeholder:"0",min:"0"})}),(0,_.jsxs)(v.Z,{padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].undervolnew),value:h[n].undervolnew,onChange:function(e){U(e,n)},name:"undervolnew",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsxs)(v.Z,{padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ae(h[n].m70volnew),value:h[n].m70volnew,onChange:function(e){U(e,n)},name:"m70volnew",type:"number",placeholder:"0",min:"0"}),(0,_.jsx)("span",{})]}),(0,_.jsx)(v.Z,{padding:"none",sx:{borderRight:"1px solid black"},align:"center",children:(0,_.jsx)("input",{required:!0,isValid:ae(h[n].dryvolnew),value:h[n].dryvolnew,onChange:function(e){U(e,n)},name:"dryvolnew",type:"number",placeholder:"0",min:"0"})}),(0,_.jsxs)(v.Z,{padding:"none",align:"center",children:[(0,_.jsx)("input",{required:!0,isValid:ee(h[n].minpop),value:W(h[n].minpop),onChange:function(e){U(e,n)},name:"minpop",type:"number"}),(0,_.jsx)("span",{})]}),(0,_.jsx)(v.Z,{padding:"none",align:"center",children:(0,_.jsx)("input",{required:!0,isValid:ne(e.maxpop),value:W(e.maxpop),onChange:function(e){U(e,n)},name:"maxpop",type:"number"})})]},e.id)})}))})]})]})})]})}},40277:function(e,n,a){var l=a(80184);n.Z=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"121.31px",height:"122.876px",viewBox:"0 0 121.31 122.876",enableBackground:"new 0 0 121.31 122.876",xmlSpace:"preserve",children:(0,l.jsx)("g",{children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90.914,5.296c6.927-7.034,18.188-7.065,25.154-0.068 c6.961,6.995,6.991,18.369,0.068,25.397L85.743,61.452l30.425,30.855c6.866,6.978,6.773,18.28-0.208,25.247 c-6.983,6.964-18.21,6.946-25.074-0.031L60.669,86.881L30.395,117.58c-6.927,7.034-18.188,7.065-25.154,0.068 c-6.961-6.995-6.992-18.369-0.068-25.397l30.393-30.827L5.142,30.568c-6.867-6.978-6.773-18.28,0.208-25.247 c6.983-6.963,18.21-6.946,25.074,0.031l30.217,30.643L90.914,5.296L90.914,5.296z"})})})})}},23821:function(e,n,a){var l=a(39281),i=a(79836),r=a(80184);n.Z=function(e){var n=e.children;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{children:(0,r.jsx)(i.Z,{children:n})})})}},41286:function(e,n,a){var l=a(64836);n.Z=void 0;var i=l(a(45649)),r=a(80184),d=(0,i.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=d}}]);
//# sourceMappingURL=4120.09ef34c3.chunk.js.map