{"version":3,"file":"static/js/5390.6b56dae2.chunk.js","mappings":"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","sources":["app/facilities/FacilityToPrint.js","app/facilities/PrintFacility.js","app/services/facilities.service.js"],"sourcesContent":["import { forwardRef, useEffect, useState } from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport toast from \"react-hot-toast\";\nimport { Trans } from \"react-i18next\";\nimport FacilitiesService from \"../services/facilities.service.js\";\nimport Spinner from \"../shared/Spinner\";\n\nconst FacilityToPrint = forwardRef((props, ref) => {\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  function getData() {\n    FacilitiesService.getFacilityFields()\n      .then((res) => {\n        setData(res.data.related);\n        setIsLoading(false);\n      })\n      .catch(() => {\n        toast.error(\"There is a problem loading data\");\n        setIsLoading(false);\n      });\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return (\n    <>\n      {isLoading ? (\n        <Spinner />\n      ) : (\n        <div ref={ref} className={\"mx-5 my-5\"} style={{ color: \"#000\" }}>\n          <div className=\"container\">\n            <div className=\" text-center my-4\">\n              <div className=\"\">\n                <h4>Inventory and Gap Analysis System (IGA)</h4>\n              </div>\n              <div className=\"\">\n                <h4>\n                  Country:{\" \"}\n                  {JSON.parse(localStorage.getItem(\"country\"))?.country}\n                </h4>\n              </div>\n            </div>\n            <h2 className=\"mb-4\">\n              <Trans>Facility information:</Trans>\n            </h2>\n            <div className=\"wrapper\">\n              <Row>\n                {data.map((item) => (\n                  <>\n                    <div style={{ width: \"50%\" }}>\n                      <h6>{item.name}</h6>\n                      <div\n                        className=\"box mb-3\"\n                        style={{\n                          border: \"gray 1px solid\",\n                          padding: \"1rem\",\n                          \"border-radius\": \"5px\",\n                          marginButtom: \"5px\",\n                        }}\n                      >\n                        {item.params.map((param) => (\n                          <div className=\"param\">\n                            <input\n                              style={{\n                                Background: \"white\",\n                                Border: \"1px solid #ababab70\",\n                                BorderRadius: \"5px\",\n                                Padding: \"0.5rem\",\n                                marginRight: \"5px\",\n                              }}\n                              className=\"m-1\"\n                              type=\"checkbox\"\n                              checked={false}\n                              disabled\n                            />\n                            <span className=\"mr-3\">\n                              {param.name || param.describe}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </>\n                ))}\n              </Row>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n});\n\nexport default FacilityToPrint;\n","import * as React from \"react\";\n\nimport { Trans } from \"react-i18next\";\nimport { useReactToPrint } from \"react-to-print\";\nimport FacilityToPrint from \"./FacilityToPrint\";\nimport { Fragment } from \"react\";\n\nconst PrintFacility = () => {\n  const componentRef = React.useRef(null);\n\n  const onBeforeGetContentResolve = React.useRef(null);\n\n  const [loading, setLoading] = React.useState(false);\n\n  const handleOnBeforeGetContent = React.useCallback(() => {\n    setLoading(true);\n\n    return new Promise((resolve) => {\n      onBeforeGetContentResolve.current = resolve;\n\n      setTimeout(() => {\n        setLoading(false);\n        resolve();\n      }, 0);\n    });\n  }, [setLoading]);\n\n  const reactToPrintContent = React.useCallback(() => {\n    return componentRef.current;\n  }, [componentRef.current]);\n\n  const handlePrint = useReactToPrint({\n    content: reactToPrintContent,\n    documentTitle: \"AwesomeFileName\",\n    onBeforeGetContent: handleOnBeforeGetContent,\n    removeAfterPrint: true,\n  });\n\n  React.useEffect(() => {\n    if (typeof onBeforeGetContentResolve.current === \"function\") {\n      onBeforeGetContentResolve.current();\n    }\n  }, [onBeforeGetContentResolve.current]);\n\n  return (\n    <Fragment>\n      <button className=\"btn btn-info btn-icon-text px-3 pr-4\" onClick={handlePrint}>\n        <i className=\"mdi mdi-printer btn-icon-append \" />\n        {loading ? <Trans>Loading...</Trans> : <Trans> Print</Trans>}\n      </button>\n\n      <FacilityToPrint ref={componentRef} />\n    </Fragment>\n  );\n};\n\nexport default PrintFacility;\n","import ApiManager from \"./axios-config\";\nimport authHeader from \"./auth-header\";\n\nconst API_URL = \"http://5.182.47.38:8001/facilities/\";\n\nclass FacilitiesService {\n  getFacilities(id) {\n    const params = {};\n    if (id) {\n      params.id = id;\n    }\n    return ApiManager.get(API_URL, {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  getSubFacilities(id) {\n    const params = { id };\n    return ApiManager.get(API_URL + \"parent\", {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  getFacilityFields() {\n    return ApiManager.get(API_URL + \"facility-field\", {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  postFacility(payload) {\n    return ApiManager.post(API_URL, payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  putFacility(payload) {\n    return ApiManager.put(API_URL, payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n}\n\nexport default new FacilitiesService();\n"],"names":["forwardRef","props","ref","useState","data","setData","isLoading","setIsLoading","useEffect","FacilitiesService","then","res","related","catch","toast","Spinner","className","style","color","JSON","parse","localStorage","getItem","country","Trans","Row","map","item","width","name","border","padding","marginButtom","params","param","Background","Border","BorderRadius","Padding","marginRight","type","checked","disabled","describe","componentRef","React","onBeforeGetContentResolve","loading","setLoading","handleOnBeforeGetContent","Promise","resolve","current","setTimeout","reactToPrintContent","handlePrint","useReactToPrint","content","documentTitle","onBeforeGetContent","removeAfterPrint","Fragment","onClick","API_URL","id","ApiManager","headers","Authorization","authHeader","payload"],"sourceRoot":""}