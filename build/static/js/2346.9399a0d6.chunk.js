"use strict";(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[2346],{82346:function(e,n,s){s.r(n);var t=s(74165),l=s(15861),c=s(29439),i=s(72791),a=s(56890),r=s(35855),d=s(53994),o=s(53382),x=s(78840),m=(s(93650),s(59909)),u=s(91933),h=s(23821),j=s(95907),v=s(79271),f=s(91523),p=s(74936),N=s(30606),b=s(12902),Z=s(92490),g=s(16536),w=s(35035),k=s(60173),y=s(80184);n.default=function(){var e,n,s,_,C,S,D=(0,v.k6)(),M=new URLSearchParams(D.location.search).get("facility"),L=i.useState(!1),z=(0,c.Z)(L,2),I=z[0],V=z[1],H=i.useState(null),P=(0,c.Z)(H,2),F=P[0],U=P[1],B=i.useState([]),O=(0,c.Z)(B,2),T=O[0],A=O[1],Q=i.useState(!1),W=(0,c.Z)(Q,2),E=W[0],R=W[1],X=i.useState(""),q=(0,c.Z)(X,2),G=q[0],J=q[1],K=i.useState(!1),Y=(0,c.Z)(K,2),$=Y[0],ee=Y[1],ne=i.useState(null),se=(0,c.Z)(ne,2),te=se[0],le=se[1],ce=i.useState(!1),ie=(0,c.Z)(ce,2),ae=ie[0],re=ie[1],de=(0,u.useQuery)(["item-default-value",M],(0,l.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.getItems(void 0,M,ae);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),{refetchOnMount:!0}),oe=de.data,xe=de.isLoading,me=de.refetch,ue=(0,u.useQuery)(["item-classes-and-types"],(0,l.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.getItemClassesAndTypes();case 2:return n=e.sent,e.abrupt("return",n.data.data.filter((function(e){return e.item_type.length>0})));case 4:case"end":return e.stop()}}),e)}))),{refetchOnMount:!0}),he=ue.data,je=ue.isLoading,ve=(0,u.useMutation)({mutationFn:function(){var e=(0,l.Z)((0,t.Z)().mark((function e(n){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.deleteItem(n);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onSuccess:function(){me()}}),fe=ve.isLoading,pe=(ve.mutateAsync,function(e){return new Date(e).toISOString().split("T")[0]});if(xe||je)return(0,y.jsx)(m.Z,{});var Ne=function(e){R(!0),p.Z.deleteitemparam(e).then((function(e){A(e.data),R(!1)})),U(e),V(!0),R(!1)},be=function(){var e={id:F,delete_reason:G,isDel:!0};p.Z.deleteitem(e);V(!1),me()};return E?(0,y.jsx)(m.Z,{}):(0,y.jsxs)("div",{children:[(0,y.jsx)("h3",{className:"page-title mb-3",children:(0,y.jsx)(N.c,{children:"Item list"})}),(0,y.jsxs)("div",{className:"mt-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"mr-2 mb-1",children:[" ",(0,y.jsx)(N.c,{children:"Deleted"})," "]}),(0,y.jsx)("input",{type:"checkbox",checked:ae,onChange:function(){re(!ae)},className:"mt-1 "}),(0,y.jsx)("button",{className:"btn btn-success text-dark w-25  mb-2   ",onClick:function(){return me()},style:{marginLeft:"5%"},type:"submit",children:(0,y.jsx)(N.c,{children:"Filter"})})]}),(0,y.jsx)("div",{className:"card",children:(0,y.jsx)("div",{className:"card-body",children:k.jU?(0,y.jsxs)("div",{className:"mt-5 table-container",children:[(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(a.Z,{children:(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Item class"})}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Items category"})}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Code"})}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Manufacturer"})}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Last Changed on"})}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Edit"})})]})}),(0,y.jsx)(o.Z,{children:null===oe||void 0===oe?void 0:oe.map((function(e){var n,s,t,l,c=null===he||void 0===he?void 0:he.find((function(n){return n.item_class.id===e.item_class})),i=null===c||void 0===c?void 0:c.item_type.find((function(n){return n.id===e.item_type}));return(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(d.Z,{className:"col-sm-2",children:null!==(n=null===c||void 0===c?void 0:c.item_class.title)&&void 0!==n?n:"-"}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:null!==(s=null===i||void 0===i?void 0:i.title)&&void 0!==s?s:"-"}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:null!==(t=e.code)&&void 0!==t?t:"-"}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:null!==(l=e.Manufacturer)&&void 0!==l?l:"-"}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:null!==e&&void 0!==e&&e.updated_at?pe(e.updated_at):"-"}),(0,y.jsxs)(d.Z,{className:"col-sm-2",children:[(0,y.jsx)(f.rU,{to:"/items/info/".concat(e.id),children:(0,y.jsx)("div",{style:{width:"20px",height:"20px"},children:(0,y.jsx)(j.Z,{})})}),(0,y.jsx)(x.Z,{title:(0,y.jsx)(N.c,{children:"Delete item"}),children:(0,y.jsx)("button",{className:"edit-btn",disabled:fe,onClick:function(){return Ne(e.id)},children:(0,y.jsx)(Z.Z,{})})})]})]},e.id)}))})]}),(0,y.jsx)(g.Z,{show:I,onHide:function(){return V(!1)},children:(0,y.jsxs)("form",{onSubmit:be,children:[(0,y.jsx)("h1",{className:"mb-1 mr-3  mt-5 mb-5 text-black",style:{marginLeft:"33%"},children:(0,y.jsx)(N.c,{children:"Delete item"})}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsxs)("div",{className:"d-flex flex-column align-items-center w-100",children:[(0,y.jsx)("label",{children:(0,y.jsx)(N.c,{children:"Delete reasons"})}),(0,y.jsxs)("select",{name:"Delete reasons",onChange:function(e){J(e.target.value)},children:[(0,y.jsx)(b.W,{children:function(e,n){n.i18n;return(0,y.jsx)("option",{i18n:!0,value:"-1",selected:!0,children:e("Please select")})}}),null===T||void 0===T?void 0:T.map((function(e,n){return(0,y.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),(0,y.jsx)("button",{className:"btn btn-success text-dark w-50 mt-4 mb-2   ",style:{marginLeft:"24%"},type:"submit",children:(0,y.jsx)(N.c,{children:"Delete item"})}),(0,y.jsx)("button",{className:"btn btn-danger text-dark w-50 mt-4 mb-2   ",style:{marginLeft:"24%"},onClick:function(e){e.preventDefault(),e.stopPropagation(),V(!1)},children:(0,y.jsx)(N.c,{children:"Cancel"})})]})})]}):(0,y.jsxs)("div",{className:"mt-5 table-container",children:[(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(a.Z,{children:(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)(N.c,{children:"Code"})}),(0,y.jsx)(d.Z,{className:"col-sm-1",children:(0,y.jsx)(N.c,{children:"Information"})})]})}),(0,y.jsx)(o.Z,{children:null===oe||void 0===oe?void 0:oe.map((function(e){var n,s=null===he||void 0===he?void 0:he.find((function(n){return n.item_class.id===e.item_class}));null===s||void 0===s||s.item_type.find((function(n){return n.id===e.item_type}));return(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(d.Z,{className:"col-sm-2",children:null!==(n=e.code)&&void 0!==n?n:"-"}),(0,y.jsx)(d.Z,{className:"col-sm-2",children:(0,y.jsx)("button",{className:"edit-btn",style:{marginLeft:"24%"},onClick:function(n){n.preventDefault(),ee(!0),le(e)},children:(0,y.jsx)(w.Z,{})})})]},e.id)}))})]}),(0,y.jsxs)(g.Z,{id:"item-modal",show:$,onHide:function(){ee(!1),le(null)},children:[(0,y.jsxs)("div",{className:"column",children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:(0,y.jsx)(N.c,{children:"Item class"})})}),(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:null!==(e=null===he||void 0===he||null===(n=he.find((function(e){return e.item_class.id===(null===te||void 0===te?void 0:te.item_class)})))||void 0===n?void 0:n.item_class.title)&&void 0!==e?e:"-"})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:(0,y.jsx)(N.c,{children:"Items category"})})}),(0,y.jsx)("div",{className:"col-6 align-items-center d-flex justify-content-center",children:(0,y.jsx)("h4",{className:"text-center align-center text-black",children:null!==(s=null===he||void 0===he||null===(_=he.find((function(e){return e.item_class.id===(null===te||void 0===te?void 0:te.item_class)})))||void 0===_||null===(C=_.item_type.find((function(e){return e.id===(null===te||void 0===te?void 0:te.item_type)})))||void 0===C?void 0:C.title)&&void 0!==s?s:"-"})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:(0,y.jsx)(N.c,{children:"Manufacturer"})})}),(0,y.jsx)("div",{className:"col-6 ",children:(0,y.jsx)("h4",{className:"text-center text-black",children:null!==(S=null===te||void 0===te?void 0:te.Manufacturer)&&void 0!==S?S:"-"})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:(0,y.jsx)(N.c,{children:"Last Changed on"})})}),(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:null!==te&&void 0!==te&&te.updated_at?pe(null===te||void 0===te?void 0:te.updated_at):"-"})})]}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-6",children:(0,y.jsx)("h4",{className:"text-center text-black",children:(0,y.jsx)(N.c,{children:"Tool box"})})}),(0,y.jsx)("div",{className:"col-6",children:(0,y.jsxs)("h4",{className:"text-center text-black",children:[(0,y.jsx)(f.rU,{to:"/items/info/".concat(null===te||void 0===te?void 0:te.id),children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)(x.Z,{title:(0,y.jsx)(N.c,{children:"Delete item"}),children:(0,y.jsx)("button",{className:"edit-btn",disabled:fe,onClick:function(){return Ne(null===te||void 0===te?void 0:te.id)},children:(0,y.jsx)(Z.Z,{})})})]})})]})]}),(0,y.jsx)("div",{className:"text-right ",children:(0,y.jsx)("button",{className:"btn btn-danger text-dark w-50 mt-4 mb-2   ",style:{marginLeft:"24%"},onClick:function(e){e.preventDefault(),e.stopPropagation(),ee(!1),le(null)},children:(0,y.jsx)(N.c,{children:"Close"})})})]}),(0,y.jsx)(g.Z,{show:I,onHide:function(){return V(!1)},children:(0,y.jsxs)("form",{onSubmit:be,children:[(0,y.jsx)("h1",{className:"mb-1 mr-3  mt-5 mb-5 text-black",style:{marginLeft:"33%"},children:(0,y.jsx)(N.c,{children:"Delete item"})}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsx)("div",{className:"d-flex flex-column align-items-center"}),(0,y.jsxs)("div",{className:"d-flex flex-column align-items-center w-100",children:[(0,y.jsx)("label",{children:(0,y.jsx)(N.c,{children:"Delete reasons"})}),(0,y.jsxs)("select",{name:"Delete reasons",onChange:function(e){J(e.target.value)},children:[(0,y.jsx)(b.W,{children:function(e,n){n.i18n;return(0,y.jsx)("option",{i18n:!0,value:"-1",selected:!0,children:e("Please select")})}}),null===T||void 0===T?void 0:T.map((function(e,n){return(0,y.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),(0,y.jsx)("button",{className:"btn btn-success text-dark w-50 mt-4 mb-2   ",style:{marginLeft:"24%"},type:"submit",children:(0,y.jsx)(N.c,{children:"Delete item"})}),(0,y.jsx)("button",{className:"btn btn-danger text-dark w-50 mt-4 mb-2   ",style:{marginLeft:"24%"},onClick:function(e){e.preventDefault(),e.stopPropagation(),V(!1)},children:(0,y.jsx)(N.c,{children:"Cancel"})})]})})]})})})]})]})}},95907:function(e,n,s){var t=s(80184);n.Z=function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",xmlnsXlink:"http://www.w3.org/1999/xlink","enable-background":"new 0 0 512 512",children:(0,t.jsx)("path",{d:"m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z"})})})}},35035:function(e,n,s){var t=s(80184);n.Z=function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",children:[(0,t.jsx)("path",{fill:"#2196f3",d:"M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"}),(0,t.jsx)("path",{fill:"#fff",d:"M22 22h4v11h-4V22zM26.5 16.5c0 1.379-1.121 2.5-2.5 2.5s-2.5-1.121-2.5-2.5S22.621 14 24 14 26.5 15.121 26.5 16.5z"})]})})}},23821:function(e,n,s){var t=s(39281),l=s(79836),c=s(80184);n.Z=function(e){var n=e.children;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(t.Z,{children:(0,c.jsx)(l.Z,{children:n})})})}},92490:function(e,n,s){var t=s(80184);n.Z=function(){return(0,t.jsxs)("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 473 473",children:[(0,t.jsx)("path",{d:"M324.285,215.015V128h20V38h-98.384V0H132.669v38H34.285v90h20v305h161.523c23.578,24.635,56.766,40,93.477,40 c71.368,0,129.43-58.062,129.43-129.43C438.715,277.276,388.612,222.474,324.285,215.015z M294.285,215.015 c-18.052,2.093-34.982,7.911-50,16.669V128h50V215.015z M162.669,30h53.232v8h-53.232V30z M64.285,68h250v30h-250V68z M84.285,128 h50v275h-50V128z M164.285,403V128h50v127.768c-21.356,23.089-34.429,53.946-34.429,87.802c0,21.411,5.231,41.622,14.475,59.43 H164.285z M309.285,443c-54.826,0-99.429-44.604-99.429-99.43s44.604-99.429,99.429-99.429s99.43,44.604,99.43,99.429 S364.111,443,309.285,443z"}),(0,t.jsx)("polygon",{points:"342.248,289.395 309.285,322.358 276.323,289.395 255.11,310.608 288.073,343.571 255.11,376.533 276.323,397.746  309.285,364.783 342.248,397.746 363.461,376.533 330.498,343.571 363.461,310.608 \t"})]})}},93650:function(){}}]);
//# sourceMappingURL=2346.9399a0d6.chunk.js.map