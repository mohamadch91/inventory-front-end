{"version":3,"file":"static/js/7734.cd2f917e.chunk.js","mappings":"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","sources":["app/shared/sharedMap.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  MapContainer,\n  useMap,\n  TileLayer,\n  Marker,\n  Popup,\n  useMapEvents,\n} from \"react-leaflet\";\nimport L from \"leaflet\";\n// import tileLayer from '../util/tileLayer';\n// import \"leaflet/dist/leaflet.css\";\nimport \"leaflet/dist/leaflet.css\";\nconst center = [52.22977, 21.01178];\n// delete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\n});\nfunction LocationMarker() {\n  const [position, setPosition] = useState(null);\n  const map = useMapEvents({\n    click() {\n      map.locate();\n      map.invalidateSize();\n    },\n    locationfound(e) {\n      setPosition(e.latlng);\n      map.flyTo(e.latlng, map.getZoom());\n    },\n  });\n\n  return position === null ? null : <></>;\n}\nconst GetCoordinates = (props) => {\n  const map = useMap();\n  const handleClick = (e) => {\n    props.change(e);\n  };\n\n  useEffect(() => {\n    if (!map) return;\n    const info = L.DomUtil.create(\"div\", \"legend\");\n\n    const positon = L.Control.extend({\n      options: {\n        position: \"bottomleft\",\n      },\n\n      onAdd: function () {\n        info.textContent = \"Click on map too add location\";\n        return info;\n      },\n    });\n    map.on(\"load\", (e) => {\n      console.log(\"salam\");\n    });\n    map.on(\"click\", (e) => {\n      window.navigator.geolocation.getCurrentPosition(console.log, console.log);\n      info.textContent = e.latlng;\n      handleClick(e);\n    });\n\n    map.addControl(new positon());\n  }, [map]);\n\n  return null;\n};\n\n\nconst MapWrapper = (props) => {\n    const LeafIcon = L.Icon.extend({\n      options: {},\n    });\n\n    const blueIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|abcdef&chf=a,s,ee00FFFF\",\n      }),\n      greenIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|2ecc71&chf=a,s,ee00FFFF\",\n      }),\n      redIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|2ccc22&chf=a,s,ee00FFFF\",\n      }),\n      yellowIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|4acc71&chf=a,s,ee00FFFF\",\n      }),purpleIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|7dcc71&chf=a,s,ee00FFFF\",\n      }),blackIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|3ccc71&chf=a,s,ee00FFFF\",\n      }),roseIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|2dcc71&chf=a,s,ee00FFFF\",\n      }),pupIcon = new LeafIcon({\n        iconUrl:\n          \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|2eee71&chf=a,s,ee00FFFF\",\n      });\n    const levels = {\n      1: blueIcon,\n      2: greenIcon,\n      3: redIcon,\n      4: yellowIcon,\n      5: purpleIcon,\n      6: blackIcon,\n      7: roseIcon,\n      8: pupIcon,\n    };\n  const { locations } = props;\n  const [map, setMap] = useState(null);\n  const [Current, sercurrent] = useState([]);\n    // const [icon, setIcon] = useState(blueIcon);\n\n  const [x1, setx1] = useState(\n    JSON.parse(localStorage.getItem(\"country\")) === null\n      ? 35\n      : JSON.parse(localStorage.getItem(\"country\"))[\"mainlocation\"] ===\n        undefined\n      ? 35\n      : JSON.parse(localStorage.getItem(\"country\"))\n          [\"mainlocation\"]?.split(\"(\")[1]\n          ?.split(\",\")[0]\n  );\n  const [x2, setx2] = useState(\n    JSON.parse(localStorage.getItem(\"country\")) === null\n      ? 51\n      : JSON.parse(localStorage.getItem(\"country\"))[\"mainlocation\"] ===\n        undefined\n      ? 51\n      : JSON.parse(localStorage.getItem(\"country\"))\n          [\"mainlocation\"]?.split(\",\")[1]\n          ?.split(\")\")[0]\n  );\n\n  const handl = (e) => {\n    props.handleChange(e);\n    setMap(e.latlng);\n  };\n  useEffect(() => {\n    const country =\n      JSON.parse(localStorage.getItem(\"country\")) === null\n        ? undefined\n        : JSON.parse(localStorage.getItem(\"country\"))[\"mainlocation\"];\n    console.log(country);\n    let ans = [];\n    if (country === undefined) {\n      ans = [50, 50];\n    } else {\n      console.log(country);\n      let temp = country?.split(\"(\")[1]?.split(\",\")[0];\n      let temp1 = country?.split(\"(\")[1]?.split(\",\")[1]?.split(\")\")[0];\n      if (temp === undefined || temp1 === undefined) {\n        setx1(35);\n        setx2(51);\n      } else {\n        setx1(parseFloat(temp));\n        setx2(parseFloat(temp1));\n      }\n    }\n    sercurrent(ans);\n  }, []);\n\n  return (\n    <div className=\"map\">\n      {Current !== null && x1 && x2 && (\n        <MapContainer\n          center={[x1, x2]}\n          zoom={5}\n          scrollWheelZoom={true}\n          style={{ width: \"100%\", height: \"450px\", zIndex: \"1\" }}\n\n          //   onClick={this.handlemapclick}\n        >\n          <TileLayer\n            {...{\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              width: 500,\n            }}\n          />\n\n          <GetCoordinates change={handl} />\n          <>\n            {locations?.map((e, i) => {\n              return (\n                <Marker key={i} position={e.cordinates} icon={levels[e.level] ?levels[e.level] :blueIcon } >\n                  <Popup>\n                    <span>{e.cordinates}</span>\n                  </Popup>\n                </Marker>\n              );\n            })}\n          </>\n\n          <LocationMarker />\n        </MapContainer>\n      )}\n    </div>\n  );\n};\n\nexport default MapWrapper;\n"],"names":["LocationMarker","useState","position","setPosition","map","useMapEvents","click","locate","invalidateSize","locationfound","e","latlng","flyTo","getZoom","L","iconRetinaUrl","require","iconUrl","shadowUrl","GetCoordinates","props","useMap","useEffect","info","positon","options","onAdd","textContent","on","console","log","window","navigator","geolocation","getCurrentPosition","change","handleClick","addControl","LeafIcon","blueIcon","greenIcon","redIcon","yellowIcon","purpleIcon","blackIcon","roseIcon","pupIcon","levels","locations","setMap","Current","sercurrent","JSON","parse","localStorage","getItem","undefined","split","x1","setx1","x2","setx2","country","ans","temp","temp1","parseFloat","className","center","zoom","scrollWheelZoom","style","width","height","zIndex","url","handleChange","i","cordinates","icon","level"],"sourceRoot":""}