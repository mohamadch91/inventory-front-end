{"version":3,"file":"static/js/962.d051b560.chunk.js","mappings":"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","sources":["app/shared/MenuIcon.js","app/shared/FacilityIcon.js","app/facilities/FacilityList.js","app/services/facilities.service.js","app/shared/EditIcon.js","app/shared/SharedTable.js"],"sourcesContent":["function MenuIcon() {\n  return (\n    <>\n      <svg\n        version=\"1.1\"\n        id=\"Capa_1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 281.488 281.488\"\n      >\n        <g>\n          <path\n            d=\"M140.744,0C63.138,0,0,63.138,0,140.744s63.138,140.744,140.744,140.744s140.744-63.138,140.744-140.744\n\t\tS218.351,0,140.744,0z M140.744,263.488C73.063,263.488,18,208.426,18,140.744S73.063,18,140.744,18\n\t\ts122.744,55.063,122.744,122.744S208.426,263.488,140.744,263.488z\"\n          />\n          <path d=\"M195.813,89.334H85.676c-4.971,0-9,4.029-9,9s4.029,9,9,9h110.137c4.971,0,9-4.029,9-9S200.783,89.334,195.813,89.334z\" />\n          <path d=\"M195.813,131.744H85.676c-4.971,0-9,4.029-9,9s4.029,9,9,9h110.137c4.971,0,9-4.029,9-9S200.783,131.744,195.813,131.744z\" />\n          <path d=\"M195.813,174.154H85.676c-4.971,0-9,4.029-9,9s4.029,9,9,9h110.137c4.971,0,9-4.029,9-9S200.783,174.154,195.813,174.154z\" />\n        </g>\n      </svg>\n    </>\n  );\n}\n\nexport default MenuIcon;\n","function FacilityIcon() {\n  return (\n    <>\n      <svg\n        width=\"20px\"\n        height=\"20px\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M2 2h14v4h6v16H2V2zm18 6h-4v2h2v2h-2v2h2v2h-2v2h2v2h2V8zm-6-4H4v16h2v-2h6v2h2V4zM6 6h2v2H6V6zm6 0h-2v2h2V6zm-6 4h2v2H6v-2zm6 0h-2v2h2v-2zm-6 4h2v2H6v-2zm6 0h-2v2h2v-2z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    </>\n  );\n}\n\nexport default FacilityIcon;\n","import React from \"react\";\nimport { TableBody, TableCell, TableHead, TableRow } from \"@mui/material\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport \"../styles/table.scss\";\nimport Spinner from \"../shared/Spinner\";\nimport { useQuery } from \"react-query\";\nimport SharedTable from \"../shared/SharedTable\";\nimport FacilitiesService from \"../services/facilities.service\";\nimport EditIcon from \"../shared/EditIcon\";\nimport MenuIcon from \"../shared/MenuIcon\";\nimport FacilityIcon from \"../shared/FacilityIcon\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Trans } from \"react-i18next\";\n\nfunction FacilityList() {\n  const history = useHistory();\n  const params = new URLSearchParams(history.location.search);\n  const pid = params.get(\"pid\");\n\n  const { data: facilities, isLoading: isFacilityDefaultLoading } = useQuery(\n    [\"facility-list\", pid],\n    async () => {\n      const res = await (pid\n        ? FacilitiesService.getSubFacilities(pid)\n        : FacilitiesService.getFacilities());\n      return res.data;\n    }\n  );\n\n  const convertDate = (date) => {\n    if (date) {\n      return new Date(date).toISOString().split(\"T\")[0];\n    }\n  };\n\n  if (isFacilityDefaultLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div>\n      <h3 className=\"page-title mb-3\">\n        <Trans>Facility list</Trans>\n      </h3>\n      <div className=\"mt-3\">\n        <div className=\"card\">\n          <div className=\"card-body\">\n            {pid && (\n              <div className=\"row mt-3\">\n                <div className=\"col-sm-2 mt-2\">\n                  <Trans>Parent facility:</Trans>\n                </div>\n                <div className=\"col-sm-4 \">\n                  <input\n                    className=\"w-100\"\n                    disabled\n                    defaultValue={facilities[0]?.name}\n                  />\n                </div>\n                <Link\n                  to={{\n                    pathname: \"/facilities/list\",\n                    search: `${\n                      facilities[0]?.parentid\n                        ? `?pid=${facilities[0]?.parentid}`\n                        : \"\"\n                    }`,\n                  }}\n                  className=\"col-sm-2 mt-2\"\n                >\n                  up level\n                </Link>\n              </div>\n            )}\n            <div className=\"mt-5 table-container\">\n              <SharedTable>\n                <TableHead>\n                  <TableRow>\n                    <TableCell className=\"col-sm-2\">\n                      <Trans>Facility name</Trans>\n                    </TableCell>\n                    <TableCell className=\"col-sm-1\">Level</TableCell>\n                    <TableCell className=\"col-sm-2\">\n                      <Trans>Number of lower level facility</Trans>\n                    </TableCell>\n                    <TableCell className=\"col-sm-1\">\n                      <Trans>Code</Trans>\n                    </TableCell>\n                    <TableCell className=\"col-sm-2\">\n                      <Trans>Type</Trans>\n                    </TableCell>\n                    <TableCell className=\"col-sm-2\">\n                      <Trans>Last Changes On</Trans>\n                    </TableCell>\n                    <TableCell className=\"col-sm-2\">\n                      <Trans>Tool box</Trans>\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {facilities.map((facility, index) => {\n                    return (\n                      <TableRow key={index}>\n                        <TableCell className=\"col-sm-2\">\n                          {pid && index > 0 && \"-- \"} {facility.name ?? \"-\"}\n                        </TableCell>\n                        <TableCell className=\"col-sm-1\">\n                          {facility.level ?? \"-\"}\n                        </TableCell>\n                        <TableCell className=\"col-sm-2\">\n                          {facility.loverlevelfac ?? \"-\"}\n                        </TableCell>\n                        <TableCell className=\"col-sm-1\">\n                          {facility.code ?? \"-\"}\n                        </TableCell>\n                        <TableCell className=\"col-sm-2\">\n                          {facility.type ?? \"-\"}\n                        </TableCell>\n                        <TableCell className=\"col-sm-2\">\n                          {convertDate(facility.updated_at)}\n                        </TableCell>\n                        <TableCell className=\"col-sm-2\">\n                          <Link to={`/facilities/info/${facility.id}`}>\n                            <Tooltip title=\"edit\">\n                              <button className=\"edit-btn\">\n                                <EditIcon />\n                              </button>\n                            </Tooltip>\n                          </Link>\n                          {((pid && index > 0) || !pid) && (\n                            <Tooltip title=\"Sub facilities\">\n                              <Link\n                                to={{\n                                  pathname: \"/facilities/list\",\n                                  search: `?pid=${facility.id}`,\n                                }}\n                              >\n                                <MenuIcon />\n                              </Link>\n                            </Tooltip>\n                          )}\n                          <Tooltip title=\"Add Facility\">\n                            <Link\n                              to={{\n                                pathname: \"/facilities/info/new\",\n                                search: `?pid=${facility.id}`,\n                              }}\n                            >\n                              <FacilityIcon />\n                            </Link>\n                          </Tooltip>\n                          <Tooltip title=\"Item list\">\n                            <Link\n                              to={{\n                                pathname: \"/items/list\",\n                                search: `?facility=${facility.id}`,\n                              }}\n                            >\n                              <FacilityIcon />\n                            </Link>\n                          </Tooltip>\n                          <Tooltip title=\"Add item\">\n                            <Link\n                              to={{\n                                pathname: \"/items/info/new\",\n                                search: `?parent=${facility.id}`,\n                              }}\n                            >\n                              <FacilityIcon />\n                            </Link>\n                          </Tooltip>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </SharedTable>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FacilityList;\n","import ApiManager from \"./axios-config\";\nimport authHeader from \"./auth-header\";\n\nconst API_URL = \"http://5.182.47.38:8001/facilities/\";\n\nclass FacilitiesService {\n  getFacilities(id) {\n    const params = {};\n    if (id) {\n      params.id = id;\n    }\n    return ApiManager.get(API_URL, {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  getSubFacilities(id) {\n    const params = { id };\n    return ApiManager.get(API_URL + \"parent\", {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  getFacilityFields(params) {\n    return ApiManager.get(API_URL + \"facility-field\", {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  postFacility(payload) {\n    return ApiManager.post(API_URL, payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  putFacility(payload) {\n    return ApiManager.put(API_URL, payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  importFacilities(payload) {\n    return ApiManager.post(\n      \"http://127.0.0.1:8000/facilities/\" + \"import\",\n      payload,\n      {\n        headers: { Authorization: authHeader() },\n      }\n    );\n  }\n    \n}\n\nexport default new FacilitiesService();\n","function EditIcon() {\n  return (\n    <>\n      <svg\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 512 512\"\n        width=\"20\"\n        height=\"20\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        enable-background=\"new 0 0 512 512\"\n      >\n        <path d=\"m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z\" />\n      </svg>\n    </>\n  );\n}\n\nexport default EditIcon;\n","import { Table, TableContainer } from \"@mui/material\";\n\nfunction SharedTable({ children }) {\n  return (\n    <>\n      <TableContainer>\n        <Table>{children}</Table>\n      </TableContainer>\n    </>\n  );\n}\n\nexport default SharedTable;\n"],"names":["version","id","xmlns","width","height","viewBox","d","fill","history","useHistory","pid","URLSearchParams","location","search","get","useQuery","FacilitiesService","res","data","facilities","isFacilityDefaultLoading","isLoading","convertDate","date","Date","toISOString","split","Spinner","className","Trans","disabled","defaultValue","name","to","pathname","parentid","SharedTable","TableHead","TableRow","TableCell","TableBody","map","facility","index","level","loverlevelfac","code","type","updated_at","Tooltip","title","EditIcon","API_URL","params","ApiManager","headers","Authorization","authHeader","payload","xmlnsXlink","children"],"sourceRoot":""}