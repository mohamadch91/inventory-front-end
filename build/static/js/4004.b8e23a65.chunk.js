"use strict";(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[4004],{38728:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(15671),i=n(43144),a=n(74569),s=n.n(a),l=n(54318),c=n(74165),u=n(15861),o=n(65218),d={200:{fa:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0628\u0648\u062f"},201:{fa:"\u0645\u0646\u0627\u0628\u0639 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f"},202:{fa:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u067e\u0630\u06cc\u0631\u0641\u062a\u0647 \u0634\u062f"},203:{fa:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0646\u0627\u0645\u0639\u062a\u0628\u0631 \u0627\u0633\u062a "},204:{fa:"\u0645\u062d\u062a\u0648\u0627\u06cc\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0645\u0648\u062c\u0648\u062f \u0646\u06cc\u0633\u062a"},300:{fa:"\u06cc\u06a9\u06cc \u0627\u0632 \u0645\u0648\u0627\u0631\u062f \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"},301:{fa:"\u0635\u0641\u062d\u0647 \u0627\u0646\u062a\u0642\u0627\u0644 \u06cc\u0627\u0641\u062a\u0647 \u0627\u0633\u062a"},302:{fa:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u067e\u06cc\u062f\u0627 \u0634\u062f"},304:{fa:"\u0627\u0635\u0644\u0627\u062d \u0646\u0634\u062f\u0647"},305:{fa:"\u0646\u06cc\u0627\u0632 \u0628\u0647 \u0627\u062a\u0635\u0627\u0644 \u067e\u0631\u0648\u06a9\u0633\u06cc"},306:{fa:"\u0646\u06cc\u0627\u0632 \u0628\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u067e\u0631\u0648\u06a9\u0633\u06cc"},400:{fa:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0627\u0634\u062a\u0628\u0627\u0647"},401:{fa:"\u0646\u06cc\u0627\u0632 \u0628\u0647 \u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a"},403:{fa:"\u0639\u062f\u0645 \u062f\u0633\u062a\u0631\u0633\u06cc \u06a9\u0627\u0631\u0628\u0631"},404:{fa:"\u0645\u0646\u0628\u0639\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"},500:{fa:"\u062e\u0637\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631"},501:{fa:"\u062e\u0637\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631"},503:{fa:"\u062e\u0637\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631"},504:{fa:"\u062e\u0637\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631"},505:{fa:"\u062e\u0637\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631"},511:{fa:"\u062e\u0637\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631"},success:{fa:"\u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0628\u0648\u062f"},failed:{fa:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0646\u0627\u0645\u0648\u0641\u0642 \u0628\u0648\u062f"}},h=s().create({});h.interceptors.request.use(function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"get"!==t.method&&(t.headers.xId=o.ZP.loading("loading...")),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h.interceptors.response.use((function(e){var t,n=null===(t=e.config.headers)||void 0===t?void 0:t.xId;if(n){var r,i=(null===(r=d[e.status])||void 0===r?void 0:r.fa)||d.success.fa;o.ZP.success(i,{id:n})}return e}),(function(e){var t=e.response;if(t){var n,r=null===(n=t.config.headers)||void 0===n?void 0:n.xId;if(r){var i,a=(null===(i=d[t.status])||void 0===i?void 0:i.fa)||d.failed.fa;o.ZP.error(a,{id:r})}}else o.ZP.remove();return Promise.reject(e)}));var f="http://5.182.47.38:8001/items/",m=new(function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"getItemClasses",value:function(){return s().get(f+"itemClass",{headers:{Authorization:(0,l.Z)()}})}},{key:"getActiveItemClasses",value:function(){return s().get(f+"class-helper",{headers:{Authorization:(0,l.Z)()}})}},{key:"putItemClass",value:function(e){return s().put(f+"itemClass",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getItemTypes",value:function(){return s().get(f+"itemType",{headers:{Authorization:(0,l.Z)()}})}},{key:"postItemType",value:function(e){return s().post(f+"itemType",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"putItemTypes",value:function(e){return s().put(f+"itemType",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getItemClassesOfAnItemType",value:function(e){return s().get(f+"itembyclass?id="+e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getActiveItemClassesWithFields",value:function(e){var t={};return e&&(t.id=e),s().get(f+"itembyclass",{headers:{Authorization:(0,l.Z)()},params:t})}},{key:"getItemTinLevels",value:function(e){var t={};return e&&(t.level=e),s().get(f+"itemTinLevels",{headers:{Authorization:(0,l.Z)()},params:t})}},{key:"putItemTypeInClass",value:function(e){return s().put(f+"itemTinLevels",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getManufacturers",value:function(e){return s().get(f+"manufacturer?id="+e,{headers:{Authorization:(0,l.Z)()}})}},{key:"postManufacturer",value:function(e){return s().post(f+"manufacturer",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"putManufacturer",value:function(e){return s().put(f+"manufacturer",e,{headers:{Authorization:(0,l.Z)()}})}}]),e}())},71986:function(e,t,n){var r=n(15671),i=n(43144),a=n(74569),s=n.n(a),l=n(54318),c="http://5.182.47.38:8001/related/",u=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"getParameters",value:function(){return s().get(c+"params",{headers:{Authorization:(0,l.Z)()}})}},{key:"getParameterDescriptions",value:function(e,t){return s().get(c+"params/?id="+e+"&type="+t,{headers:{Authorization:(0,l.Z)()}})}},{key:"putParameters",value:function(e){return s().put(c+"params/",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getItemFields",value:function(){return s().get(c+"item-fields",{headers:{Authorization:(0,l.Z)()}})}},{key:"putItemFields",value:function(e){return s().put(c+"item-fields",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getRelatedItemType",value:function(e){var t={};return e&&(t.id=e),s().get(c+"related-item-type",{headers:{Authorization:(0,l.Z)()},params:t})}},{key:"putRelatedItemType",value:function(e){return s().put(c+"related-item-type",e,{headers:{Authorization:(0,l.Z)()}})}},{key:"getRelatedFacility",value:function(){return s().get(c+"related-facility/",{headers:{Authorization:(0,l.Z)()}})}},{key:"putRelatedFacility",value:function(e){return s().put(c+"related-facility/",e,{headers:{Authorization:(0,l.Z)()}})}}]),e}();t.Z=new u},4004:function(e,t,n){n.r(t);var r=n(1413),i=n(93433),a=n(37762),s=n(74165),l=n(15861),c=n(29439),u=n(56890),o=n(35855),d=n(53994),h=n(53382),f=n(72791),m=n(23821),v=n(94912),p=n(38728),x=n(91933),Z=n(59909),y=n(95907),j=n(40277),g=n(70242),k=n(74512),b=n(64554),w=n(36151),N=n(74130),z=(n(93650),n(71986)),I=(n(2423),n(80184));t.default=function(){var e,t=(0,f.useState)(0),n=(0,c.Z)(t,2),A=n[0],C=n[1],T=(0,f.useState)(),F=(0,c.Z)(T,2),L=F[0],S=F[1],q=(0,f.useState)(),P=(0,c.Z)(q,2),R=P[0],M=P[1],O=(0,f.useState)([]),_=(0,c.Z)(O,2),B=_[0],Q=_[1],D=(0,f.useState)(null),E=(0,c.Z)(D,2),G=E[0],W=E[1],X=(0,f.useState)(""),V=(0,c.Z)(X,2),H=V[0],J=V[1],K=(0,x.useQuery)(["active-item-classes-with-item-type"],(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.getActiveItemClassesWithFields();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{onSuccess:function(e){S(e[0]),M(e[0].item_type[0])}}),U=K.data,Y=K.isLoading,$=(0,x.useQuery)(["related-item-fields"],(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.Z.getItemFields();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{}),ee=$.data,te=$.isLoading,ne=$.refetch,re=(0,x.useQuery)(["related-item-type",null===R||void 0===R?void 0:R.id],(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.Z.getRelatedItemType(R.id);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{enabled:!Y}).data,ie=(0,f.useMemo)((function(){var e={};if(ee){var t,n=(0,a.Z)(ee);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,s=null!==(r=e[i.topic])&&void 0!==r?r:[];s.push(i),e[i.topic]=s}}catch(l){n.e(l)}finally{n.f()}}return e}),[ee]),ae=function(e,t,n){var a=e.target.checked,s=(0,i.Z)(B),l=B.findIndex((function(e){return e.itemtypeid===R.id&&e.fieldid===t.id}));if(console.log(n),-1===l)s.push({itemtypeid:R.id,fieldid:t.id,required:"required"===n&&a,enable:"enable"!==n||a});else{var c=B[l];s[l]=(0,r.Z)((0,r.Z)({},c),{},{required:"required"===n?a:c.required,enable:"enable"===n?a:c.enable})}Q(s)},se=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.Z.putItemFields((0,r.Z)((0,r.Z)({},G),{},{name:H}));case 2:e.sent,ne(),W(null),J("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.Z.putRelatedItemType(B);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)("div",{children:[(0,I.jsx)("h3",{className:"page-title mb-3",children:'Fields of "item category"'}),Y?(0,I.jsx)(Z.Z,{}):(0,I.jsx)("div",{className:"mt-3",children:(0,I.jsx)("div",{className:"card",children:(0,I.jsx)("div",{className:"card-body",children:(0,I.jsxs)("div",{className:"row",children:[(0,I.jsx)("div",{className:"col-sm-12 col-lg-6",children:(0,I.jsxs)(v.Z.Group,{className:"row",children:[(0,I.jsx)("label",{className:"col-sm-12",children:"Item class"}),(0,I.jsx)("div",{className:"col-sm-12",children:(0,I.jsx)(v.Z.Control,{onChange:function(e){S(U[e.target.value])},className:"form-select",as:"select",children:U.map((function(e,t){return(0,I.jsx)("option",{value:t,children:e.item_class.title})}))})})]})}),(0,I.jsx)("div",{className:"col-sm-12 col-lg-6",children:(0,I.jsxs)(v.Z.Group,{className:"row",children:[(0,I.jsx)("label",{className:"col-sm-12",children:"item category"}),(0,I.jsx)("div",{className:"col-sm-12",children:(0,I.jsx)(v.Z.Control,{onChange:function(e){M(L.item_type[e.target.value])},className:"form-select",disabled:null===L,as:"select",children:null===L||void 0===L?void 0:L.item_type.map((function(e,t){return(0,I.jsx)("option",{value:t,children:e.title})}))})})]})})]})})})}),te?(0,I.jsx)(Z.Z,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"mt-3",children:(0,I.jsx)("div",{className:"card",children:(0,I.jsxs)("div",{className:"card-body pb-3",children:[(0,I.jsx)("div",{className:"row pb-4",style:{overflow:"auto"},children:(0,I.jsx)(g.Z,{activeStep:A,children:Object.keys(ie).map((function(e,t){return(0,I.jsx)(k.Z,{onClick:function(){C(t)},children:(0,I.jsx)(N.Z,{color:"inherit",style:{width:"max-content"},children:e})},e)}))})}),(0,I.jsx)("div",{className:"row mt-2",children:(0,I.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"row",pt:2},children:[(0,I.jsx)(w.Z,{color:"inherit",disabled:0===A,onClick:function(){C((function(e){return e-1}))},sx:{mr:1},children:"Back"}),(0,I.jsx)(b.Z,{sx:{flex:"1 1 auto"}}),(0,I.jsx)(w.Z,{disabled:A===Object.keys(ie).length-1,onClick:function(){C((function(e){return e+1}))},sx:{mr:1},children:"Next"}),(0,I.jsx)("button",{className:"btn btn-primary ",onClick:le,children:"Save"})]})})]})})}),(0,I.jsx)("div",{className:"mt-3",children:(0,I.jsx)("div",{className:"card",children:(0,I.jsx)("div",{className:"card-body p-3",children:(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("h4",{children:[" ",Object.keys(ie)[A]]}),(0,I.jsx)("div",{className:"mt-5 table-container",children:(0,I.jsxs)(m.Z,{children:[(0,I.jsx)(u.Z,{children:(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(d.Z,{className:"col-sm-4",children:"Field name"}),(0,I.jsx)(d.Z,{className:"col-sm-2",children:"Enable"}),(0,I.jsx)(d.Z,{className:"col-sm-4",children:"Is this required field for item category?"}),(0,I.jsx)(d.Z,{className:"col-sm-2",children:"Edit"})]})}),(0,I.jsx)(h.Z,{children:null===(e=Object.values(ie)[A])||void 0===e?void 0:e.map((function(e){var t,n,r=null!==(t=B.find((function(t){return t.fieldid===e.id&&t.itemtypeid===R.id})))&&void 0!==t?t:null===re||void 0===re?void 0:re.find((function(t){return e.id===t.field.id&&R.id===t.itemtype.id})),i=null!==(n=null===r||void 0===r?void 0:r.enable)&&void 0!==n?n:!!r,a=null===r||void 0===r?void 0:r.required;return(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(d.Z,{className:"col-sm-4",children:(null===G||void 0===G?void 0:G.id)===e.id?(0,I.jsx)("input",{name:"field-name",type:"text",onChange:function(e){return J(e.target.value)},defaultValue:e.name}):e.name}),(0,I.jsx)(d.Z,{className:"col-sm-2",children:(0,I.jsx)("input",{type:"checkbox",disabled:!re,checked:i,onChange:function(t){return ae(t,e,"enable")}})}),(0,I.jsx)(d.Z,{className:"col-sm-4",children:(0,I.jsx)("input",{type:"checkbox",disabled:!i,checked:a,onChange:function(t){return ae(t,e,"required")}})}),(null===G||void 0===G?void 0:G.id)===e.id?(0,I.jsxs)(d.Z,{className:"col-sm-2",children:[(0,I.jsx)("button",{className:"save-btn",onClick:se,children:"Save"}),(0,I.jsx)("button",{className:"close-btn",onClick:function(){W(null),J("")},children:(0,I.jsx)(j.Z,{})})]}):(0,I.jsx)(d.Z,{className:"col-sm-2",children:(0,I.jsx)("button",{className:"edit-btn",onClick:function(){W(e),J(e.name)},children:(0,I.jsx)(y.Z,{})})})]},e.id)}))})]})})]})})})})]})]})}},40277:function(e,t,n){var r=n(80184);t.Z=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"121.31px",height:"122.876px",viewBox:"0 0 121.31 122.876",enableBackground:"new 0 0 121.31 122.876",xmlSpace:"preserve",children:(0,r.jsx)("g",{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M90.914,5.296c6.927-7.034,18.188-7.065,25.154-0.068 c6.961,6.995,6.991,18.369,0.068,25.397L85.743,61.452l30.425,30.855c6.866,6.978,6.773,18.28-0.208,25.247 c-6.983,6.964-18.21,6.946-25.074-0.031L60.669,86.881L30.395,117.58c-6.927,7.034-18.188,7.065-25.154,0.068 c-6.961-6.995-6.992-18.369-0.068-25.397l30.393-30.827L5.142,30.568c-6.867-6.978-6.773-18.28,0.208-25.247 c6.983-6.963,18.21-6.946,25.074,0.031l30.217,30.643L90.914,5.296L90.914,5.296z"})})})})}},95907:function(e,t,n){var r=n(80184);t.Z=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",xmlnsXlink:"http://www.w3.org/1999/xlink","enable-background":"new 0 0 512 512",children:(0,r.jsx)("path",{d:"m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z"})})})}},23821:function(e,t,n){var r=n(39281),i=n(79836),a=n(80184);t.Z=function(e){var t=e.children;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(i.Z,{children:t})})})}},2423:function(){},93650:function(){}}]);
//# sourceMappingURL=4004.b8e23a65.chunk.js.map