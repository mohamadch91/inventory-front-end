{"version":3,"file":"static/js/4084.fb4826d2.chunk.js","mappings":"iQA+CA,EA1CoB,SAACA,GAAW,IAAD,QAC7B,GAA+CC,EAAAA,EAAAA,UAC7C,CAAC,iBADoD,uBAErD,yGACoBC,EAAAA,EAAAA,UAAsB,QAAUF,EAAMG,UAD1D,cACQC,EADR,yBAESA,EAAIC,MAFb,2CAIA,CACEC,gBAAgB,IAPZD,EAAR,EAAQA,KAWR,OAXA,EAAcE,WAYL,SAACC,EAAA,EAAD,KAETC,QAAQC,IAAI,WACZD,QAAQC,IAAIL,IAGV,gBAAKM,UAAU,wBAAf,UACE,mBAAOA,UAAU,QAAjB,WACE,4BACE,2BACE,wCACA,uCACA,sCACA,uCAGJ,4BACE,2BACE,kCAAKN,EAAK,UAAV,aAAK,EAASO,cACd,kCAAKP,EAAK,UAAV,aAAK,EAASQ,aACd,kCAAKR,EAAK,UAAV,aAAK,EAASS,YACd,kCAAKT,EAAK,UAAV,aAAK,EAASU,iBAMzB,ECsBD,EA/De,WACb,OAAgCC,EAAAA,EAAAA,YAAhC,eAAOb,EAAP,KAAiBc,EAAjB,KACA,GAA8CD,EAAAA,EAAAA,WAAS,GAAvD,eAAOE,EAAP,KAAwBC,EAAxB,KACA,GAAoCH,EAAAA,EAAAA,WAAS,GAA7C,eAAOI,EAAP,KAAmBC,EAAnB,KAqBA,OACE,iBAAKV,UAAW,8BAAhB,WACE,mBACEW,QAZgB,WACpBD,GAAc,EACf,EAWKE,KAAK,SACLZ,UAAU,0CAHZ,4BAQCO,IACC,SAAC,IAAD,CACEP,UAAW,eACXa,SAhCY,SAACC,EAAQC,GACrBD,IACJR,EAAW,OAACQ,QAAD,IAACA,OAAD,EAACA,EAAQE,MACpBR,GAAmB,IAGfO,GACJjB,QAAQC,IAAIgB,EAEf,EAwBOE,UAAW,MAGdzB,IAAae,IACZ,gBAAKP,UAAU,+BAAf,UACE,eAAIA,UAAU,YAAd,yCAIHS,IACC,4BACE,SAAC,EAAD,CAAajB,SAAUA,KACvB,mBACEmB,QAjCa,WACrBL,EAAY,MACZE,GAAmB,GACnBE,GAAc,EACf,EA8BSE,KAAK,SACLZ,UAAU,mCAHZ,iCAWT,C","sources":["app/items/scan-qr/ResultTable.js","app/items/scan-qr/ScanQR.js"],"sourcesContent":["import React from \"react\";\nimport { useQuery } from \"react-query\";\nimport ItemService from \"../../services/item.service\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst ResultTable = (props) => {\n  const { data, isLoading: formDataIsLoading } = useQuery(\n    [\"result-table\"],\n    async () => {\n      const res = await ItemService.getQrData(\"code=\" + props.QRString);\n      return res.data;\n    },\n    {\n      refetchOnMount: true,\n    }\n  );\n\n  if (formDataIsLoading) {\n    return <Spinner />;\n  }\n  console.log(\"data is\");\n  console.log(data);\n\n  return (\n    <div className=\"table-responsive mt-3\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Item Class</th>\n            <th>Item Type</th>\n            <th>PQS code</th>\n            <th>code</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{data[0]?.item_class}</td>\n            <td>{data[0]?.item_type}</td>\n            <td>{data[0]?.pqs_code}</td>\n            <td>{data[0]?.code}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ResultTable;\n","import React, { useState } from \"react\";\nimport { QrReader } from \"react-qr-reader\";\nimport ResultTable from \"./ResultTable\";\n\nconst ScanQR = () => {\n  const [QRString, setQRString] = useState();\n  const [cameraAvailable, setCameraAvailable] = useState(true);\n  const [showResult, setShowResult] = useState(false);\n\n  const scanHandler = (result, error) => {\n    if (!!result) {\n      setQRString(result?.text);\n      setCameraAvailable(false);\n    }\n\n    if (!!error) {\n      console.log(error);\n    }\n  };\n  const submitHandler = () => {\n    setShowResult(true);\n  };\n  const refreshHandler = () => {\n    setQRString(null);\n    setCameraAvailable(true);\n    setShowResult(false);\n  };\n\n  return (\n    <div className={\"card px-5 py-5 w-75 m-auto \"}>\n      <button\n        onClick={submitHandler}\n        type=\"button\"\n        className=\"btn btn-primary btn-fw mt-3 w-75 m-auto\"\n      >\n        Search QR code\n      </button>\n\n      {cameraAvailable && (\n        <QrReader\n          className={\"w-75 m-auto \"}\n          onResult={scanHandler}\n          scanDelay={3000}\n        />\n      )}\n      {QRString && !cameraAvailable && (\n        <div className=\"w-75 m-auto pt-3 text-center\">\n          <h3 className=\"display-4\">Code Scanned Successfully</h3>\n        </div>\n      )}\n\n      {showResult && (\n        <div>\n          <ResultTable QRString={QRString} />\n          <button\n            onClick={refreshHandler}\n            type=\"button\"\n            className=\"btn btn-light btn-fw mt-3 w-25  \"\n          >\n            Search QR code\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ScanQR;\n"],"names":["props","useQuery","ItemService","QRString","res","data","refetchOnMount","isLoading","Spinner","console","log","className","item_class","item_type","pqs_code","code","useState","setQRString","cameraAvailable","setCameraAvailable","showResult","setShowResult","onClick","type","onResult","result","error","text","scanDelay"],"sourceRoot":""}