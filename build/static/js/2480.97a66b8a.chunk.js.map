{"version":3,"file":"static/js/2480.97a66b8a.chunk.js","mappings":"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","sources":["app/shared/sharedMap.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  MapContainer,\n  useMap,\n  TileLayer,\n  Marker,\n  Popup,\n  useMapEvents,\n} from \"react-leaflet\";\nimport L from \"leaflet\";\n// import tileLayer from '../util/tileLayer';\n// import \"leaflet/dist/leaflet.css\";\nimport \"leaflet/dist/leaflet.css\";\nconst center = [52.22977, 21.01178];\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\n});\nfunction LocationMarker() {\n  const [position, setPosition] = useState(null);\n  const map = useMapEvents({\n    click() {\n      map.locate();\n      map.invalidateSize();\n    },\n    locationfound(e) {\n      setPosition(e.latlng);\n      map.flyTo(e.latlng, map.getZoom());\n    },\n  });\n\n  return position === null ? null : <></>;\n}\nconst GetCoordinates = (props) => {\n  const map = useMap();\n  const handleClick = (e) => {\n    props.change(e);\n  };\n\n  useEffect(() => {\n    if (!map) return;\n    const info = L.DomUtil.create(\"div\", \"legend\");\n\n    const positon = L.Control.extend({\n      options: {\n        position: \"bottomleft\",\n      },\n\n      onAdd: function () {\n        info.textContent = \"Click on map too add location\";\n        return info;\n      },\n    });\n    map.on(\"load\", (e) => {\n      console.log(\"salam\");\n    });\n    map.on(\"click\", (e) => {\n      window.navigator.geolocation.getCurrentPosition(console.log, console.log);\n      info.textContent = e.latlng;\n      handleClick(e);\n    });\n\n    map.addControl(new positon());\n  }, [map]);\n\n  return null;\n};\n\nconst MapWrapper = (props) => {\n  const { locations } = props;\n  const [map, setMap] = useState(null);\n  const [Current, sercurrent] = useState([]);\n  const [x1, setx1] = useState(\n    JSON.parse(localStorage.getItem(\"country\")) === null\n      ? 35\n      : JSON.parse(localStorage.getItem(\"country\"))[\"mainlocation\"] ===\n        undefined\n      ? 35\n      : JSON.parse(localStorage.getItem(\"country\"))\n          [\"mainlocation\"]?.split(\"(\")[1]\n          ?.split(\",\")[0]\n  );\n  const [x2, setx2] = useState(\n    JSON.parse(localStorage.getItem(\"country\")) === null\n      ? 51\n      : JSON.parse(localStorage.getItem(\"country\"))[\"mainlocation\"] ===\n        undefined\n      ? 51\n      : JSON.parse(localStorage.getItem(\"country\"))\n          [\"mainlocation\"]?.split(\",\")[1]\n          ?.split(\")\")[0]\n  );\n\n  const handl = (e) => {\n    props.handleChange(e);\n    setMap(e.latlng);\n  };\n  useEffect(() => {\n    const country =\n      JSON.parse(localStorage.getItem(\"country\")) === null\n        ? undefined\n        : JSON.parse(localStorage.getItem(\"country\"))[\"mainlocation\"];\n    console.log(country);\n    let ans = [];\n    if (country === undefined) {\n      ans = [50, 50];\n    } else {\n      console.log(country);\n      let temp = country?.split(\"(\")[1]?.split(\",\")[0];\n      let temp1 = country?.split(\"(\")[1]?.split(\",\")[1]?.split(\")\")[0];\n      if (temp === undefined || temp1 === undefined) {\n        setx1(35);\n        setx2(51);\n      } else {\n        setx1(parseFloat(temp));\n        setx2(parseFloat(temp1));\n      }\n    }\n    sercurrent(ans);\n  }, []);\n\n  return (\n    <div className=\"map\">\n      {Current !== null && x1 && x2 && (\n        <MapContainer\n          center={[x1, x2]}\n          zoom={5}\n          scrollWheelZoom={true}\n          style={{ width: \"100%\", height: \"450px\", zIndex: \"1\" }}\n\n          //   onClick={this.handlemapclick}\n        >\n          <TileLayer\n            {...{\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              width: 500,\n            }}\n          />\n\n          <GetCoordinates change={handl} />\n          <>\n            {locations?.map((e, i) => {\n              return (\n                <Marker key={i} position={e.cordinates}>\n                  <Popup>\n                    <span>{e.cordinates}</span>\n                  </Popup>\n                </Marker>\n              );\n            })}\n          </>\n\n          <LocationMarker />\n        </MapContainer>\n      )}\n    </div>\n  );\n};\n\nexport default MapWrapper;\n"],"names":["LocationMarker","useState","position","setPosition","map","useMapEvents","click","locate","invalidateSize","locationfound","e","latlng","flyTo","getZoom","L","iconRetinaUrl","require","iconUrl","shadowUrl","GetCoordinates","props","useMap","useEffect","info","positon","options","onAdd","textContent","on","console","log","window","navigator","geolocation","getCurrentPosition","change","handleClick","addControl","locations","setMap","Current","sercurrent","JSON","parse","localStorage","getItem","undefined","split","x1","setx1","x2","setx2","country","ans","temp","temp1","parseFloat","className","center","zoom","scrollWheelZoom","style","width","height","zIndex","url","handleChange","i","cordinates"],"sourceRoot":""}