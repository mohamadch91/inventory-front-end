{"version":3,"file":"static/js/8211.0412ca98.chunk.js","mappings":"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","sources":["app/facilities/FacilityToPrint.js","app/facilities/PrintFacility.js","app/services/facilities.service.js"],"sourcesContent":["import { forwardRef, useEffect, useState } from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport toast from \"react-hot-toast\";\nimport { Trans } from \"react-i18next\";\nimport FacilitiesService from \"../services/facilities.service.js\";\nimport Spinner from \"../shared/Spinner\";\nimport \"./print.scss\"\n\nconst FacilityToPrint = forwardRef((props, ref) => {\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  function getData() {\n    FacilitiesService.getFacilityFields1()\n      .then((res) => {\n        const data=res.data.related;\n        data.unshift({\n          name: \"Facility code\",\n          params:[],\n          type: \"text\",\n        })\n        let levels = res.data.levels;\n        // change levels name to id\n        levels = levels.map((level) => {\n          return {\n            id: level.id,\n            name: level.id+\" - \"+ level.name,\n          };\n        });\n        data.unshift({\n          name: \"Levels\",\n          params:levels,\n        });\n        setData(res.data.related);\n        setIsLoading(false);\n      })\n      .catch(() => {\n        toast.error(\"There is a problem loading data\");\n        setIsLoading(false);\n      });\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return (\n    <>\n      {isLoading ? (\n        <Spinner />\n      ) : (\n        <div ref={ref} className={\"mx-5 my-5\"} style={{ color: \"#000\" }}>\n          <div className=\"container\">\n            <div className=\" text-center my-4\">\n              <div className=\"\">\n                <h4>\n                  <Trans>Inventory and Gap Analysis System</Trans> (IGA)\n                </h4>\n              </div>\n              <div>\n                <h4>\n                  <Trans>Country</Trans>:{\" \"}\n                  {JSON.parse(localStorage.getItem(\"country\"))?.country}\n                </h4>\n              </div>\n            </div>\n            <h2 className=\"mb-4\">\n              {\" \"}\n              {`${JSON.parse(localStorage.getItem(\"user\"))?.facility_name}`}\n              <Trans>Facility information</Trans>:\n            </h2>\n            <p>\n              <Trans>Date</Trans>: -----------\n            </p>\n            <div className=\"wrapper p-1 mb-5\">\n              <Row>\n                {data.map((item) => (\n                  <>\n                    <div style={{ width: \"50%\" }}>\n                      <h6>\n                        <Trans>{item.name}</Trans>\n                      </h6>\n                      <div\n                        className=\"box mb-3 column\"\n                        style={{\n                          border: \"gray 1px solid\",\n                          padding: \"1rem\",\n                          \"border-radius\": \"5px\",\n                          marginButtom: \"5px\",\n                          minHeight: \"150px\",\n                        }}\n                      >\n                        {item.params.map((param) => (\n                          <div className=\"param col-md-4 \"\n                          style={\n                            {\n                              display: \"flex\",\n                              \"align-items\": \"center\",\n                              flexdirection: \"row\",\n                            }\n                          }\n                          >\n                            <div class=\" \">\n                              <label className=\"\">\n                                <input\n                               \n                                  className=\"m-1\"\n                                  type=\"checkbox\"\n                                  checked={false}\n                                  disabled\n                                />\n\n                                <i className=\" mt-5\">\n                                  <span className=\"ml-4 mb-2\">{param.name || param.describe}</span>\n                                </i>\n                              </label>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </>\n                ))}\n              </Row>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n});\n\nexport default FacilityToPrint;\n","import * as React from \"react\";\n\nimport { Trans } from \"react-i18next\";\nimport { useReactToPrint } from \"react-to-print\";\nimport FacilityToPrint from \"./FacilityToPrint\";\nimport { Fragment } from \"react\";\n\nconst PrintFacility = () => {\n  const componentRef = React.useRef(null);\n\n  const onBeforeGetContentResolve = React.useRef(null);\n\n  const [loading, setLoading] = React.useState(false);\n\n  const handleOnBeforeGetContent = React.useCallback(() => {\n    setLoading(true);\n\n    return new Promise((resolve) => {\n      onBeforeGetContentResolve.current = resolve;\n\n      setTimeout(() => {\n        setLoading(false);\n        resolve();\n      }, 0);\n    });\n  }, [setLoading]);\n\n  const reactToPrintContent = React.useCallback(() => {\n    return componentRef.current;\n  }, [componentRef.current]);\n\n  const handlePrint = useReactToPrint({\n    content: reactToPrintContent,\n    documentTitle: \"AwesomeFileName\",\n    onBeforeGetContent: handleOnBeforeGetContent,\n    removeAfterPrint: true,\n  });\n\n  React.useEffect(() => {\n    if (typeof onBeforeGetContentResolve.current === \"function\") {\n      onBeforeGetContentResolve.current();\n    }\n  }, [onBeforeGetContentResolve.current]);\n\n  return (\n    <Fragment>\n      <button\n        className=\"btn btn-info btn-icon-text px-3 pr-4\"\n        onClick={handlePrint}\n      >\n        <i className=\"mdi mdi-printer btn-icon-append \" />\n        {loading ? (\n          <>\n            <Trans>Loading</Trans> ...\n          </>\n        ) : (\n          <Trans>Print</Trans>\n        )}\n      </button>\n\n      <FacilityToPrint ref={componentRef} />\n    </Fragment>\n  );\n};\n\nexport default PrintFacility;\n","import ApiManager from \"./axios-config\";\nimport authHeader from \"./auth-header\";\nimport axios from \"axios\";\n\nconst API_URL = \"https://tlsapi.invgap.org/facilities/\";\n\nclass FacilitiesService {\n  getFacilities(params) {\n    return ApiManager.get(API_URL, {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  getSubFacilities(id) {\n    const params = { id };\n    return ApiManager.get(API_URL + \"parent\", {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  // deleteFacility(id) {\n  //   return ApiManager.delete(API_URL, {\n  //     headers: { Authorization: authHeader() },\n  //     data: { id },\n  //   });\n  // }\n  getFacilityFields(params) {\n    return ApiManager.get(API_URL + \"facility-field\", {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  getFacilityFields1(params) {\n    return ApiManager.get(API_URL + \"print\", {\n      headers: { Authorization: authHeader() },\n      params,\n    });\n  }\n  postFacility(payload) {\n    return ApiManager.post(API_URL, payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  putFacility(payload) {\n    return ApiManager.put(API_URL, payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  importFacilities(payload) {\n    return ApiManager.post(\n      \"https://tlsapi.invgap.org/facilities/\" + \"import\",\n      payload,\n      {\n        headers: { Authorization: authHeader() },\n      }\n    );\n  }\n  deletefacilityparam() {\n    return ApiManager.get(API_URL + \"delete\", {\n      headers: { Authorization: authHeader() },\n    });\n  }\n  deleteFacility(payload) {\n    return ApiManager.post(API_URL + \"delete\", payload, {\n      headers: { Authorization: authHeader() },\n    });\n  }\n}\n\nexport default new FacilitiesService();\n"],"names":["forwardRef","props","ref","useState","data","setData","isLoading","setIsLoading","useEffect","FacilitiesService","then","res","related","unshift","name","params","type","levels","map","level","id","catch","toast","Spinner","className","style","color","Trans","JSON","parse","localStorage","getItem","country","facility_name","Row","item","width","border","padding","marginButtom","minHeight","param","display","flexdirection","class","checked","disabled","describe","componentRef","React","onBeforeGetContentResolve","loading","setLoading","handleOnBeforeGetContent","Promise","resolve","current","setTimeout","reactToPrintContent","handlePrint","useReactToPrint","content","documentTitle","onBeforeGetContent","removeAfterPrint","Fragment","onClick","API_URL","ApiManager","headers","Authorization","authHeader","payload"],"sourceRoot":""}