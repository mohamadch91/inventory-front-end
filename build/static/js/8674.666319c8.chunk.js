"use strict";(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[8674],{98674:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(74165),s=t(15861),a=t(29439),c=t(72791),i=t(93433),l=t(30606),d=t(80184),h=function(e){return(0,d.jsx)("div",{className:"form-check pl-2 ",children:(0,d.jsxs)("label",{className:"form-check-label",children:[(0,d.jsx)("input",{onChange:function(n){return e.onChange(n)},type:"checkbox",className:"form-check-input",value:e.value}),(0,d.jsx)("i",{className:"input-helper"}),(0,d.jsx)(l.c,{children:e.label})]})})},u=function(e){var n=e.data,t=e.setState,r=e.state,s=function(e){var n=e.target.value;r.includes(n)?t((function(e){return e.filter((function(e){return e!==n}))})):t((function(e){return[].concat((0,i.Z)(e),[n])}))};return(0,d.jsx)("div",{className:"col-lg-12 stretch-card",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Warnings Info"}),(0,d.jsxs)("div",{className:"table-responsive",children:[(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsxs)("th",{children:[(0,d.jsx)(l.c,{children:"#"})," "]}),(0,d.jsxs)("th",{children:[" ",(0,d.jsx)(l.c,{children:"Maintenance"})," "]}),(0,d.jsxs)("th",{children:[" ",(0,d.jsx)(l.c,{children:"Items category"})," "]}),(0,d.jsxs)("th",{children:[" ",(0,d.jsx)(l.c,{children:"Code"})," "]}),(0,d.jsxs)("th",{children:[" ",(0,d.jsx)(l.c,{children:"Deadline"})," "]}),(0,d.jsxs)("th",{children:[" ",(0,d.jsx)(l.c,{children:"Service interval"})," "]}),(0,d.jsxs)("th",{children:[" ",(0,d.jsx)(l.c,{children:"Done"})," "]})]})}),(0,d.jsx)("tbody",{children:n.map((function(e,n){return(0,d.jsxs)("tr",{className:"table-danger",children:[(0,d.jsxs)("td",{children:[" ",n+1," "]},e.id),(0,d.jsxs)("td",{children:[" ",e.name," "]},n+e.name),(0,d.jsxs)("td",{children:[" ",e.item_type," "]},n+e.item_type),(0,d.jsxs)("td",{children:[" ",e.code," "]},n+e.code),(0,d.jsxs)("td",{children:[" ",e.deadline," "]},n+e.deadline),(0,d.jsxs)("td",{children:[" ",e.interval," "]},n+e.interval),(0,d.jsx)("td",{children:(0,d.jsx)(h,{onChange:s,value:e.id})},n+"A")]},e.id)}))})]}),(0,d.jsx)("button",{type:"button",className:" mt-3 btn btn-primary btn-fw",onClick:e.onSubmit,children:(0,d.jsx)(l.c,{children:"Mark as done"})})]})]})})})},o=t(79271),x=t(91933),j=t(59909),m=t(10140),p=t(65218),f=function(){var e=c.useState([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],l=c.useState(!1),h=(0,a.Z)(l,2),f=h[0],v=h[1],b=(0,o.UO)(),g=(0,o.k6)(),k=(0,x.useQuery)([],(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getWarningsInfo("?"+b.wType);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),{refetchOnMount:!0}),y=k.data,Z=k.isLoading,N=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.map((function(e){n.push({id:e,done:!0})})),e.prev=2,v(!0),e.next=6,m.Z.postWarningsAsDone(n);case 6:200===e.sent.status&&(v(!1),p.ZP.success("Done like a charm Boss! \ud83d\ude09"),g.push("/dashboard")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),p.ZP.error("There was a problem reaching server, try again in a moment pls");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Z||0===y.length||f?(0,d.jsx)(j.Z,{}):(0,d.jsx)(c.Fragment,{children:y&&(0,d.jsx)(u,{data:y,setState:i,state:t,onSubmit:N})})}}}]);
//# sourceMappingURL=8674.666319c8.chunk.js.map